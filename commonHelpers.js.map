{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const key = '44800078-24df89d06f24ed99fe7b62add';\n\nexport function getPhoto(query) {\n  return fetch(\n    `https://pixabay.com/api/?key=${key}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderCard(cards, galleryEl) {\n  const markup = cards\n    .map(\n      ({ likes, views, comments, downloads, webformatURL, largeImageURL }) => `\n    <a href=\"${largeImageURL}\" class=\"card\">\n      <div class=\"card-img-top\">\n        <img src=\"${webformatURL}\" alt=\"Image\">\n      </div>\n      <div class=\"card-body\">\n        <p class=\"card-title\">Likes: ${likes}</p>\n        <p class=\"card-text\">Views: ${views}</p>\n        <p class=\"card-text\">Comments: ${comments}</p>\n        <p class=\"card-text\">Downloads: ${downloads}</p>\n      </div>\n    </a>`\n    )\n    .join('');\n  galleryEl.innerHTML = markup;\n  new SimpleLightbox('.gallery a');\n}\n","import { getPhoto } from './js/pixabay-api';\nimport { renderCard } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst galleryEl = document.querySelector('.gallery');\nconst searchEl = document.querySelector('.search');\nconst loaderEl = document.querySelector('.loader');\n\nsearchEl.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  const formEl = event.currentTarget;\n  const queryValue = formEl.elements.query.value.trim().toLowerCase();\n\n  if (queryValue === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term!',\n    });\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('hidden');\n\n  getPhoto(queryValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        throw new Error('No images found');\n      }\n      renderCard(data.hits, galleryEl);\n    })\n    .catch(onFetchError)\n    .finally(() => {\n      loaderEl.classList.add('hidden');\n      formEl.reset();\n    });\n}\n\nfunction onFetchError(error) {\n  iziToast.error({\n    title: 'Error',\n    message:\n      error.message ||\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n"],"names":["key","getPhoto","query","res","renderCard","cards","galleryEl","markup","likes","views","comments","downloads","webformatURL","largeImageURL","SimpleLightbox","searchEl","loaderEl","handleSearch","event","formEl","queryValue","iziToast","data","onFetchError","error"],"mappings":"6vBAAA,MAAMA,EAAM,qCAEL,SAASC,EAASC,EAAO,CAC9B,OAAO,MACL,gCAAgCF,CAAG,MAAME,CAAK,0DAClD,EAAI,KAAKC,GAAO,CACZ,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCRO,SAASC,EAAWC,EAAOC,EAAW,CAC3C,MAAMC,EAASF,EACZ,IACC,CAAC,CAAE,MAAAG,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,aAAAC,EAAc,cAAAC,CAAa,IAAO;AAAA,eAC/DA,CAAa;AAAA;AAAA,oBAERD,CAAY;AAAA;AAAA;AAAA,uCAGOJ,CAAK;AAAA,sCACNC,CAAK;AAAA,yCACFC,CAAQ;AAAA,0CACPC,CAAS;AAAA;AAAA,SAG9C,EACA,KAAK,EAAE,EACVL,EAAU,UAAYC,EACtB,IAAIO,EAAe,YAAY,CACjC,CCjBA,MAAMR,EAAY,SAAS,cAAc,UAAU,EAC7CS,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAW,SAAS,cAAc,SAAS,EAEjDD,EAAS,iBAAiB,SAAUE,CAAY,EAEhD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAASD,EAAM,cACfE,EAAaD,EAAO,SAAS,MAAM,MAAM,KAAI,EAAG,cAEtD,GAAIC,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAEDf,EAAU,UAAY,GACtBU,EAAS,UAAU,OAAO,QAAQ,EAElCf,EAASmB,CAAU,EAChB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,iBAAiB,EAEnClB,EAAWkB,EAAK,KAAMhB,CAAS,CACrC,CAAK,EACA,MAAMiB,CAAY,EAClB,QAAQ,IAAM,CACbP,EAAS,UAAU,IAAI,QAAQ,EAC/BG,EAAO,MAAK,CAClB,CAAK,CACL,CAEA,SAASI,EAAaC,EAAO,CAC3BH,EAAS,MAAM,CACb,MAAO,QACP,QACEG,EAAM,SACN,0EACN,CAAG,CACH"}